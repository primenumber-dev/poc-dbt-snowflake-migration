{
    "editor.formatOnSave": true,
    "editor.codeActionsOnSave": {
      "source.organizeImports": "explicit",
      "source.fixAll": "explicit"
  },
    "editor.defaultFormatter": "charliermarsh.ruff",
    "editor.tabSize": 4,
    "editor.indentSize": 2,
    "editor.detectIndentation": false,
    "editor.quickSuggestions": {
        "strings": true
    },
    "editor.rulers": [80, 120],

    // dbtのsqlがjinjaのため指定
    "files.associations": {
        "*.sql": "jinja-sql",
        "*.yml": "yaml",
        "*.yaml": "yaml",
    },
    "files.exclude": {
        "**/.git": true,
        "**/.DS_Store": true,
        "**/__pycache__": true,
        "**/*.pyc": true,
        "target/": true,
        "dbt_packages/": true,
        "logs/": true
    },
    "files.trimTrailingWhitespace": true,
    "files.insertFinalNewline": true,

    // yaml用のjsonschemaを指定
    // https://github.com/dbt-labs/dbt-jsonschema?tab=readme-ov-file
    "[yaml]": {
        "editor.defaultFormatter": "redhat.vscode-yaml",
        "editor.formatOnSave": true
    },
      "yaml.schemas": {
          "https://raw.githubusercontent.com/dbt-labs/dbt-jsonschema/main/schemas/latest/dbt_yml_files-latest.json": [
              "/**/*.yml",
              "!profiles.yml",
              "!example-profiles.yml",
              "!dbt_project.yml",
              "!packages.yml",
              "!selectors.yml",
              "!profile_template.yml",
              "!package-lock.yml"
          ],
          "https://raw.githubusercontent.com/dbt-labs/dbt-jsonschema/main/schemas/latest/dbt_project-latest.json": [
              "dbt_project.yml"
          ],
          "https://raw.githubusercontent.com/dbt-labs/dbt-jsonschema/main/schemas/latest/selectors-latest.json": [
              "selectors.yml"
          ],
          "https://raw.githubusercontent.com/dbt-labs/dbt-jsonschema/main/schemas/latest/packages-latest.json": [
              "packages.yml"
          ]
      },

    // sqlfmt
    "dbt.sqlFmtPath": ".venv/bin/sqlfmt",
    "[sql]": {
        "editor.formatOnSave": true,
        "editor.defaultFormatter": "innoverio.vscode-dbt-power-user"
    },
    "[jinja-sql]": {
        "editor.formatOnSave": true,
        "editor.defaultFormatter": "innoverio.vscode-dbt-power-user"

    },

    //python
    "python.terminal.activateEnvironment": true,
    "python.terminal.activateEnvInCurrentTerminal": true,
    "python.defaultInterpreterPath": "${workspaceFolder}/.venv/bin/python",
    "python.venvPath": "${workspaceFolder}/.venv",
    "python.pythonPath": "${workspaceFolder}/.venv/bin/python",

    "terminal.integrated.defaultProfile.linux": "bash",
    "terminal.integrated.profiles.linux": {
        "bash": {
            "path": "bash",
            "icon": "terminal-bash"
        }
    },
    "terminal.integrated.env.linux": {
        "DBT_PROFILES_DIR": "${workspaceFolder}/.dbt"
    },
    "terminal.integrated.env.osx": {
        "DBT_PROFILES_DIR": "${workspaceFolder}/.dbt"
    },
    "terminal.integrated.env.windows": {
        "DBT_PROFILES_DIR": "${workspaceFolder}/.dbt"
    },


    //git
    "git.enableSmartCommit": true,
    "git.autofetch": true,
    "githubIssues.workingIssueFormatScm": "${issueTitle} \nref: ${issueNumberLabel}",


    //copilot
    "chat.agent.enabled": true,
    "chat.mcp.discovery.enabled": true,
    "github.copilot.chat.agent.thinkingTool": true,
    "github.copilot.chat.newworkspacecreation.enabled": true,

    // optional
    "dbt.altimateAiKey": "${env:ALTIMATE_KEY}",
    "dbt.altimateInstanceName": "${env:ALTIMATE_INSTANCE_NAME}",
    "dbt.enableMcpDataSourceQueryTools": true,
    "dbt.enableNewLineagePanel": true,

  }
